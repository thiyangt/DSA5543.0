[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "DSA 554 3.0 Spatio-temporal Data Analysis",
    "section": "",
    "text": "Copyright notice\nProduced on 22 November 2025.\n© Thiyanga S. Talagala (2025).",
    "crumbs": [
      "Front matter"
    ]
  },
  {
    "objectID": "06-chap6.html",
    "href": "06-chap6.html",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "",
    "text": "6.1 R packages for spatial data analysis",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#r-packages-for-spatial-data-analysis",
    "href": "06-chap6.html#r-packages-for-spatial-data-analysis",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "",
    "text": "rgdal\nsp\nrgeos\nraster\nsf\ntmap\nleaflet\nggmap\nmaptools\ngstat\nspatstat\nstars\ngeosphere\nRgoogleMaps\nrasterVis",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#geospatial-vector-data-structures",
    "href": "06-chap6.html#geospatial-vector-data-structures",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.2 Geospatial vector data structures",
    "text": "6.2 Geospatial vector data structures\n\n\nPoint: Individual longitude and latitude of locations\nEg: Locations, Buildings\n\n\nLines: Two or more vertices or points that are connected\nEg: Roads, rivers\n\n\nPolygons: Three or more vertices and closed\nEg: Area of a country, state, district",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#challenge-in-spatial-data-viualisation",
    "href": "06-chap6.html#challenge-in-spatial-data-viualisation",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.3 Challenge in Spatial Data Viualisation",
    "text": "6.3 Challenge in Spatial Data Viualisation\nMove from\n\nto\n\n\n\n\n\n\n\n\nHow to transform this three dimensional angular system to a two dimensional cartesian system?\nSolution: Spatial Projections",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#map-projection",
    "href": "06-chap6.html#map-projection",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.4 Map Projection",
    "text": "6.4 Map Projection\n\nA projection is about the geometric transformation from 3D to 2D.\nA map projection is a method or mathematical formula to represent the curved surface of the Earth on a flat map.\nIt focuses on how the Earth’s surface is “flattened”, which always introduces some distortion in area, shape, distance, or direction.\n\nExamples:\nMercator (preserves direction)\nAlbers Equal-Area Conic (preserves area)\nGoode Homolosine (minimizes distortion globally)",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#types-of-map-projections",
    "href": "06-chap6.html#types-of-map-projections",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.5 Types of Map Projections",
    "text": "6.5 Types of Map Projections\nCylindrical Projections\nImagine wrapping a cylinder around the Earth and projecting the surface onto it.\nCharacteristics:\nMeridians and parallels are straight and perpendicular.\nDistortion increases away from the equator.\nExample:\nMercator Projection – preserves direction, but greatly distorts area near the poles.\nConical Projections\nImagine wrapping a cone over the Earth, usually touching at one or two standard parallels.\nCharacteristics:\nParallels appear as arcs; meridians converge toward a point.\nBest for mid-latitude regions with an east–west extent.\nExample:\nAlbers Equal-Area Conic – preserves area, commonly used for countries or regions.\nPlanar (Azimuthal) Projections\nThe Earth’s surface is projected onto a flat plane, usually touching at a single point.\nCharacteristics:\nDistortion increases outward from the point of tangency.\nCan preserve distance, area, or shape depending on the type.\nExample:\nGoode Homolosine – minimizes global distortion by combining multiple projection methods.\nVisit here to see the visual illustration.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#example-maps",
    "href": "06-chap6.html#example-maps",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.6 Example maps",
    "text": "6.6 Example maps\n\nlibrary(tidyverse)\nlibrary(sf)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\n#https://r-spatial.org/r/2018/10/25/ggplot2-sf.html\nworld &lt;- ne_countries(scale = \"medium\", returnclass = \"sf\")\np1 &lt;- ggplot(data = world)+\n  geom_sf()+\n  labs(title = 'ESRI:54030: Robinson projection')+             theme(plot.title = element_text(face = \"bold\"))+\n  coord_sf(crs = st_crs(\"ESRI:54030\"))\n\n\np2 &lt;- ggplot(data = world)+\n  geom_sf()+\n  labs(title = 'ESRI:54009: Mollweide projection')+             theme(plot.title = element_text(face = \"bold\"))+\n  coord_sf(crs = st_crs(\"ESRI:54009\"))\n\np3 &lt;- ggplot(data = world)+\n  geom_sf()+\n  labs(title = 'ESRI:54002: Equidistant cylindrical projection')+             theme(plot.title = element_text(face = \"bold\"))+\n  coord_sf(crs = st_crs(\"ESRI:54002\"))\n\np4 &lt;- ggplot(data = world)+\n  geom_sf()+\n  labs(title = 'ESRI:54008: Sinusoidal projection')+             theme(plot.title = element_text(face = \"bold\"))+\n  coord_sf(crs = st_crs(\"ESRI:54008\"))\n\n\np1\n\n\n\n\n\n\np2\n\n\n\n\n\n\np3\n\n\n\n\n\n\np4",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#why-multiple-map-projection-types-exist",
    "href": "06-chap6.html#why-multiple-map-projection-types-exist",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.7 Why Multiple Map Projection Types Exist",
    "text": "6.7 Why Multiple Map Projection Types Exist\nThe Earth is round, but maps are flat. Because no flat map can perfectly preserve all properties of the globe, every projection introduces some distortion. Different projections are therefore designed to preserve certain properties depending on the map’s purpose.\nKey Reasons for Multiple Projection Types\n\nDifferent Types of Distortion\n\nShape (conformal) – keeps angles and shapes correct (e.g., Mercator).\nArea (equal-area / equivalent) – keeps relative sizes correct (e.g., Albers Equal-Area Conic).\nDistance (equidistant) – preserves distances from a point or along certain lines (e.g., Azimuthal Equidistant).\nDirection (azimuthal / navigational) – preserves angles and compass bearings (e.g., Mercator for navigation).\n\nGeographical Focus\n\nSome projections are better for global maps, others for regional or local maps.\nExample: Conical projections work well for mid-latitude countries, while planar projections work for polar regions.\n\nPractical Applications\n\nNavigation – need accurate direction → Mercator.\nThematic / statistical maps – need accurate area → Albers Equal-Area.\nMinimizing overall distortion – Goode Homolosine for global thematic maps.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#quick-comparison-table",
    "href": "06-chap6.html#quick-comparison-table",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.8 Quick Comparison Table",
    "text": "6.8 Quick Comparison Table\nIn-class",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#coordinate-reference-system-crs",
    "href": "06-chap6.html#coordinate-reference-system-crs",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.9 Coordinate Reference System (CRS)",
    "text": "6.9 Coordinate Reference System (CRS)\nA CRS is a complete spatial reference framework that defines:\n\n\nHow coordinates relate to the Earth (datum)\nA datum defines the mathematical Earth model and reference point for coordinates, ensuring that latitude, longitude, and height correspond to real positions on the Earth.)\n\nThe map projection used (if any)",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#what-is-a-datum",
    "href": "06-chap6.html#what-is-a-datum",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.10 What is a Datum?",
    "text": "6.10 What is a Datum?\nA datum is a mathematical model of the Earth that defines:\nThe size and shape of the Earth (ellipsoid or spheroid)\nThe origin and orientation of the coordinate system (where latitude 0°, longitude 0° are defined)\nIn short, a datum tells us where “zero” is and how the coordinates are measured on the Earth’s surface.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#why-is-a-datum-important",
    "href": "06-chap6.html#why-is-a-datum-important",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.11 Why is a Datum Important?",
    "text": "6.11 Why is a Datum Important?\nDifferent datums model the Earth slightly differently, so the same latitude/longitude may correspond to different locations depending on the datum.\nExample:\nWGS84 → used by GPS\nNAD83 → used in North America\nA coordinate of 40°N, 75°W will be slightly different on WGS84 vs NAD83 because the reference ellipsoid is slightly shifted.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#projection-vs-crs",
    "href": "06-chap6.html#projection-vs-crs",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.12 Projection vs CRS",
    "text": "6.12 Projection vs CRS\n\nProjection = method to flatten the Earth\nCRS = full system that defines the Earth model + projection + coordinate rules",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#shapefile",
    "href": "06-chap6.html#shapefile",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.13 Shapefile",
    "text": "6.13 Shapefile\nA shapefile is a popular geospatial vector data format used to store geographic features like points, lines, and polygons, along with their attributes. It’s commonly used in GIS (Geographic Information Systems) and mapping software, including R (sf or rgdal packages).\nA shapefile actually consists of several files that work together. The main ones are:\n\n\n\n\n\n\nFile Extension\nPurpose\n\n\n\n.shp\nGeometry of features (points, lines, polygons)\n\n\n.shx\nShape index (helps software find features quickly)\n\n\n.dbf\nAttribute data (like a spreadsheet)\n\n\n.prj\nProjection information (coordinate reference system)\n\n\n.cpg\nEncoding of text attributes (optional)",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#r-example-1",
    "href": "06-chap6.html#r-example-1",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.14 R Example 1",
    "text": "6.14 R Example 1\n\nlibrary(sf)\nlibrary(rnaturalearth)\n\n# Read shapefile\nworld &lt;- ne_countries(scale = \"medium\", returnclass = \"sf\")\nhead(world)\n\nSimple feature collection with 6 features and 168 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: -73.36621 ymin: -22.40205 xmax: 109.4449 ymax: 41.9062\nGeodetic CRS:  WGS 84\n       featurecla scalerank labelrank sovereignt sov_a3 adm0_dif level\n1 Admin-0 country         1         3   Zimbabwe    ZWE        0     2\n2 Admin-0 country         1         3     Zambia    ZMB        0     2\n3 Admin-0 country         1         3      Yemen    YEM        0     2\n4 Admin-0 country         3         2    Vietnam    VNM        0     2\n5 Admin-0 country         5         3  Venezuela    VEN        0     2\n6 Admin-0 country         6         6    Vatican    VAT        0     2\n               type tlc     admin adm0_a3 geou_dif   geounit gu_a3 su_dif\n1 Sovereign country   1  Zimbabwe     ZWE        0  Zimbabwe   ZWE      0\n2 Sovereign country   1    Zambia     ZMB        0    Zambia   ZMB      0\n3 Sovereign country   1     Yemen     YEM        0     Yemen   YEM      0\n4 Sovereign country   1   Vietnam     VNM        0   Vietnam   VNM      0\n5 Sovereign country   1 Venezuela     VEN        0 Venezuela   VEN      0\n6 Sovereign country   1   Vatican     VAT        0   Vatican   VAT      0\n    subunit su_a3 brk_diff      name name_long brk_a3  brk_name brk_group\n1  Zimbabwe   ZWE        0  Zimbabwe  Zimbabwe    ZWE  Zimbabwe      &lt;NA&gt;\n2    Zambia   ZMB        0    Zambia    Zambia    ZMB    Zambia      &lt;NA&gt;\n3     Yemen   YEM        0     Yemen     Yemen    YEM     Yemen      &lt;NA&gt;\n4   Vietnam   VNM        0   Vietnam   Vietnam    VNM   Vietnam      &lt;NA&gt;\n5 Venezuela   VEN        0 Venezuela Venezuela    VEN Venezuela      &lt;NA&gt;\n6   Vatican   VAT        0   Vatican   Vatican    VAT   Vatican      &lt;NA&gt;\n  abbrev postal                        formal_en\n1  Zimb.     ZW             Republic of Zimbabwe\n2 Zambia     ZM               Republic of Zambia\n3   Yem.     YE                Republic of Yemen\n4  Viet.     VN    Socialist Republic of Vietnam\n5   Ven.     VE Bolivarian Republic of Venezuela\n6   Vat.      V        State of the Vatican City\n                           formal_fr              name_ciawf note_adm0 note_brk\n1                               &lt;NA&gt;                Zimbabwe      &lt;NA&gt;     &lt;NA&gt;\n2                               &lt;NA&gt;                  Zambia      &lt;NA&gt;     &lt;NA&gt;\n3                               &lt;NA&gt;                   Yemen      &lt;NA&gt;     &lt;NA&gt;\n4                               &lt;NA&gt;                 Vietnam      &lt;NA&gt;     &lt;NA&gt;\n5 República Bolivariana de Venezuela               Venezuela      &lt;NA&gt;     &lt;NA&gt;\n6                               &lt;NA&gt; Holy See (Vatican City)      &lt;NA&gt;     &lt;NA&gt;\n           name_sort name_alt mapcolor7 mapcolor8 mapcolor9 mapcolor13  pop_est\n1           Zimbabwe     &lt;NA&gt;         1         5         3          9 14645468\n2             Zambia     &lt;NA&gt;         5         8         5         13 17861030\n3        Yemen, Rep.     &lt;NA&gt;         5         3         3         11 29161922\n4            Vietnam     &lt;NA&gt;         5         6         5          4 96462106\n5      Venezuela, RB     &lt;NA&gt;         1         3         1          4 28515829\n6 Vatican (Holy See) Holy See         1         3         4          2      825\n  pop_rank pop_year gdp_md gdp_year                    economy\n1       14     2019  21440     2019    5. Emerging region: G20\n2       14     2019  23309     2019  7. Least developed region\n3       15     2019  22581     2019  7. Least developed region\n4       16     2019 261921     2019    5. Emerging region: G20\n5       15     2019 482359     2014    5. Emerging region: G20\n6        2     2019    -99     2019 2. Developed region: nonG7\n               income_grp fips_10 iso_a2 iso_a2_eh iso_a3 iso_a3_eh iso_n3\n1           5. Low income      ZI     ZW        ZW    ZWE       ZWE    716\n2  4. Lower middle income      ZA     ZM        ZM    ZMB       ZMB    894\n3  4. Lower middle income      YM     YE        YE    YEM       YEM    887\n4  4. Lower middle income      VM     VN        VN    VNM       VNM    704\n5  3. Upper middle income      VE     VE        VE    VEN       VEN    862\n6 2. High income: nonOECD      VT     VA        VA    VAT       VAT    336\n  iso_n3_eh un_a3 wb_a2 wb_a3   woe_id woe_id_eh                   woe_note\n1       716   716    ZW   ZWE 23425004  23425004 Exact WOE match as country\n2       894   894    ZM   ZMB 23425003  23425003 Exact WOE match as country\n3       887   887    RY   YEM 23425002  23425002 Exact WOE match as country\n4       704   704    VN   VNM 23424984  23424984 Exact WOE match as country\n5       862   862    VE   VEN 23424982  23424982 Exact WOE match as country\n6       336   336   -99   -99 23424986  23424986 Exact WOE match as country\n  adm0_iso adm0_diff adm0_tlc adm0_a3_us adm0_a3_fr adm0_a3_ru adm0_a3_es\n1      ZWE      &lt;NA&gt;      ZWE        ZWE        ZWE        ZWE        ZWE\n2      ZMB      &lt;NA&gt;      ZMB        ZMB        ZMB        ZMB        ZMB\n3      YEM      &lt;NA&gt;      YEM        YEM        YEM        YEM        YEM\n4      VNM      &lt;NA&gt;      VNM        VNM        VNM        VNM        VNM\n5      VEN      &lt;NA&gt;      VEN        VEN        VEN        VEN        VEN\n6      VAT      &lt;NA&gt;      VAT        VAT        VAT        VAT        VAT\n  adm0_a3_cn adm0_a3_tw adm0_a3_in adm0_a3_np adm0_a3_pk adm0_a3_de adm0_a3_gb\n1        ZWE        ZWE        ZWE        ZWE        ZWE        ZWE        ZWE\n2        ZMB        ZMB        ZMB        ZMB        ZMB        ZMB        ZMB\n3        YEM        YEM        YEM        YEM        YEM        YEM        YEM\n4        VNM        VNM        VNM        VNM        VNM        VNM        VNM\n5        VEN        VEN        VEN        VEN        VEN        VEN        VEN\n6        VAT        VAT        VAT        VAT        VAT        VAT        VAT\n  adm0_a3_br adm0_a3_il adm0_a3_ps adm0_a3_sa adm0_a3_eg adm0_a3_ma adm0_a3_pt\n1        ZWE        ZWE        ZWE        ZWE        ZWE        ZWE        ZWE\n2        ZMB        ZMB        ZMB        ZMB        ZMB        ZMB        ZMB\n3        YEM        YEM        YEM        YEM        YEM        YEM        YEM\n4        VNM        VNM        VNM        VNM        VNM        VNM        VNM\n5        VEN        VEN        VEN        VEN        VEN        VEN        VEN\n6        VAT        VAT        VAT        VAT        VAT        VAT        VAT\n  adm0_a3_ar adm0_a3_jp adm0_a3_ko adm0_a3_vn adm0_a3_tr adm0_a3_id adm0_a3_pl\n1        ZWE        ZWE        ZWE        ZWE        ZWE        ZWE        ZWE\n2        ZMB        ZMB        ZMB        ZMB        ZMB        ZMB        ZMB\n3        YEM        YEM        YEM        YEM        YEM        YEM        YEM\n4        VNM        VNM        VNM        VNM        VNM        VNM        VNM\n5        VEN        VEN        VEN        VEN        VEN        VEN        VEN\n6        VAT        VAT        VAT        VAT        VAT        VAT        VAT\n  adm0_a3_gr adm0_a3_it adm0_a3_nl adm0_a3_se adm0_a3_bd adm0_a3_ua adm0_a3_un\n1        ZWE        ZWE        ZWE        ZWE        ZWE        ZWE        -99\n2        ZMB        ZMB        ZMB        ZMB        ZMB        ZMB        -99\n3        YEM        YEM        YEM        YEM        YEM        YEM        -99\n4        VNM        VNM        VNM        VNM        VNM        VNM        -99\n5        VEN        VEN        VEN        VEN        VEN        VEN        -99\n6        VAT        VAT        VAT        VAT        VAT        VAT        -99\n  adm0_a3_wb     continent region_un          subregion\n1        -99        Africa    Africa     Eastern Africa\n2        -99        Africa    Africa     Eastern Africa\n3        -99          Asia      Asia       Western Asia\n4        -99          Asia      Asia South-Eastern Asia\n5        -99 South America  Americas      South America\n6        -99        Europe    Europe    Southern Europe\n                   region_wb name_len long_len abbrev_len tiny homepart\n1         Sub-Saharan Africa        8        8          5  -99        1\n2         Sub-Saharan Africa        6        6          6  -99        1\n3 Middle East & North Africa        5        5          4  -99        1\n4        East Asia & Pacific        7        7          5    2        1\n5  Latin America & Caribbean        9        9          4  -99        1\n6      Europe & Central Asia        7        7          4    4        1\n  min_zoom min_label max_label   label_x    label_y      ne_id wikidataid\n1        0       2.5       8.0  29.92544 -18.911640 1159321441       Q954\n2        0       3.0       8.0  26.39530 -14.660804 1159321439       Q953\n3        0       3.0       8.0  45.87438  15.328226 1159321425       Q805\n4        0       2.0       7.0 105.38729  21.715416 1159321417       Q881\n5        0       2.5       7.5 -64.59938   7.182476 1159321411       Q717\n6        0       5.0      10.0  12.45342  41.903323 1159321407       Q237\n    name_ar       name_bn      name_de      name_en             name_es\n1  زيمبابوي      জিম্বাবুয়ে     Simbabwe     Zimbabwe            Zimbabue\n2    زامبيا       জাম্বিয়া       Sambia       Zambia              Zambia\n3     اليمن        ইয়েমেন        Jemen        Yemen               Yemen\n4    فيتنام      ভিয়েতনাম      Vietnam      Vietnam             Vietnam\n5   فنزويلا     ভেনেজুয়েলা    Venezuela    Venezuela           Venezuela\n6 الفاتيكان ভ্যাটিকান সিটি Vatikanstadt Vatican City Ciudad del Vaticano\n   name_fa         name_fr    name_el       name_he   name_hi   name_hu\n1 زیمبابوه        Zimbabwe Ζιμπάμπουε      זימבבואה   ज़िम्बाब्वे  Zimbabwe\n2   زامبیا          Zambie     Ζάμπια         זמביה   ज़ाम्बिया    Zambia\n3      یمن           Yémen     Υεμένη          תימן       यमन     Jemen\n4   ویتنام        Viêt Nam    Βιετνάμ       וייטנאם   वियतनाम   Vietnám\n5  ونزوئلا       Venezuela Βενεζουέλα       ונצואלה    वेनेज़ुएला Venezuela\n6  واتیکان Cité du Vatican   Βατικανό קריית הוותיקן वैटिकन नगर   Vatikán\n    name_id            name_it    name_ja     name_ko      name_nl   name_pl\n1  Zimbabwe           Zimbabwe ジンバブエ    짐바브웨     Zimbabwe  Zimbabwe\n2    Zambia             Zambia   ザンビア      잠비아       Zambia    Zambia\n3     Yaman              Yemen   イエメン        예멘        Jemen     Jemen\n4   Vietnam            Vietnam   ベトナム      베트남      Vietnam   Wietnam\n5 Venezuela          Venezuela ベネズエラ  베네수엘라    Venezuela Wenezuela\n6   Vatikan Città del Vaticano   バチカン 바티칸 시국 Vaticaanstad   Watykan\n    name_pt   name_ru       name_sv   name_tr   name_uk    name_ur\n1  Zimbábue  Зимбабве      Zimbabwe  Zimbabve  Зімбабве    زمبابوے\n2    Zâmbia    Замбия        Zambia   Zambiya    Замбія     زیمبیا\n3     Iémen     Йемен         Jemen     Yemen      Ємен        یمن\n4  Vietname   Вьетнам       Vietnam   Vietnam   В'єтнам     ویتنام\n5 Venezuela Венесуэла     Venezuela Venezuela Венесуела  وینیزویلا\n6  Vaticano   Ватикан Vatikanstaten   Vatikan   Ватикан ویٹیکن سٹی\n        name_vi  name_zh name_zht      fclass_iso tlc_diff      fclass_tlc\n1      Zimbabwe 津巴布韦   辛巴威 Admin-0 country     &lt;NA&gt; Admin-0 country\n2        Zambia   赞比亚   尚比亞 Admin-0 country     &lt;NA&gt; Admin-0 country\n3         Yemen     也门     葉門 Admin-0 country     &lt;NA&gt; Admin-0 country\n4      Việt Nam     越南     越南 Admin-0 country     &lt;NA&gt; Admin-0 country\n5     Venezuela 委内瑞拉 委內瑞拉 Admin-0 country     &lt;NA&gt; Admin-0 country\n6 Thành Vatican   梵蒂冈   梵蒂岡 Admin-0 country     &lt;NA&gt; Admin-0 country\n  fclass_us fclass_fr fclass_ru fclass_es fclass_cn fclass_tw fclass_in\n1      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n2      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n3      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n4      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n5      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n6      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n  fclass_np fclass_pk fclass_de fclass_gb fclass_br fclass_il fclass_ps\n1      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n2      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n3      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n4      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n5      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n6      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n  fclass_sa fclass_eg fclass_ma fclass_pt fclass_ar fclass_jp fclass_ko\n1      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n2      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n3      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n4      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n5      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n6      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n  fclass_vn fclass_tr fclass_id fclass_pl fclass_gr fclass_it fclass_nl\n1      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n2      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n3      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n4      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n5      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n6      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n  fclass_se fclass_bd fclass_ua                       geometry\n1      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt; MULTIPOLYGON (((31.28789 -2...\n2      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt; MULTIPOLYGON (((30.39609 -1...\n3      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt; MULTIPOLYGON (((53.08564 16...\n4      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt; MULTIPOLYGON (((104.064 10....\n5      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt; MULTIPOLYGON (((-60.82119 9...\n6      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt; MULTIPOLYGON (((12.43916 41...\n\n# Check CRS\nst_crs(world)\n\nCoordinate Reference System:\n  User input: WGS 84 \n  wkt:\nGEOGCRS[\"WGS 84\",\n    DATUM[\"World Geodetic System 1984\",\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"latitude\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"longitude\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    ID[\"EPSG\",4326]]\n\n#&gt; CRS: EPSG:4326 (WGS84) → unprojected lat/lon in degrees\n\n# Project to UTM\nworld_utm &lt;- st_transform(world, crs = 32633)\n#&gt; CRS: EPSG:32633 → projected in meters",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#r-example-2",
    "href": "06-chap6.html#r-example-2",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.15 R Example 2",
    "text": "6.15 R Example 2\n\n# install.packages(\"devtools\")\n# devtools::install_github(\"thiyangt/ceylon\")\nlibrary(ceylon)\nlibrary(tidyverse)\nlibrary(sp)\nlibrary(sf)\nlibrary(viridis)\n\n\ndata(sf_sl_0)\nclass(sf_sl_0)\n\n[1] \"sf\"         \"tbl_df\"     \"tbl\"        \"data.frame\"\n\n\n\nsf_sl_0\n\nSimple feature collection with 1 feature and 1 field\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 362203.3 ymin: 380301.9 xmax: 621918.1 ymax: 813560.9\nProjected CRS: SLD99 / Sri Lanka Grid 1999\n# A tibble: 1 × 2\n                                                                geometry COUNTRY\n                                                      &lt;MULTIPOLYGON [m]&gt; &lt;chr&gt;  \n1 (((481925.5 381353.7, 481922.9 381350.3, 481919 381348.2, 481914.6 38… SRI LA…\n\n\nor\n\nst_crs(sf_sl_0)\n\nCoordinate Reference System:\n  User input: EPSG:5235 \n  wkt:\nPROJCRS[\"SLD99 / Sri Lanka Grid 1999\",\n    BASEGEOGCRS[\"SLD99\",\n        DATUM[\"Sri Lanka Datum 1999\",\n            ELLIPSOID[\"Everest 1830 (1937 Adjustment)\",6377276.345,300.8017,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",5233]],\n    CONVERSION[\"Sri Lanka Grid 1999\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",7.00047152777778,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",80.7717130833333,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9999238418,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"unknown\"],\n        AREA[\"Sri Lanka - onshore\"],\n        BBOX[5.86,79.64,9.88,81.95]],\n    ID[\"EPSG\",5235]]\n\n\nVisualizing using shapefiles: map of Sri Lanka\n\nggplot(sf_sl_0) +\n  geom_sf()\n\n\n\n\n\n\n\n\nggplot(sf_sl_0) +\n  geom_sf(fill='beige') +\ntheme_minimal()\n\n\n\n\n\n\n\n\nlibrary(knitr)\nsf_sl_0 %&gt;% kable()\n\n\n\ngeometry\nCOUNTRY\n\n\nMULTIPOLYGON (((481925.5 38…\nSRI LANKA",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#exercise",
    "href": "06-chap6.html#exercise",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.16 Exercise",
    "text": "6.16 Exercise\n\nDraw district and province maps\n\ndata:\nprovince\ndistrict\n\nGuess the output.\n\n\nggplot() +\n  geom_sf(data=province, lwd=2, col=\"black\") + \n  geom_sf(data=district, linetype=21, col=\"red\")\n\n\nColour provinces according to the population.",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#annotations",
    "href": "06-chap6.html#annotations",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.17 Annotations",
    "text": "6.17 Annotations\n\nggplot(sf_sl_0) +\n  geom_sf(fill='beige') +\nggspatial::annotation_north_arrow(location = \"br\")+\n  ggspatial::annotation_scale(location = \"bl\")\n\n\n\n\n\n\n\n\nggplot(sf_sl_0) +\n  geom_sf(fill='beige') +\nggspatial::annotation_north_arrow(location = \"br\")+\n  ggspatial::annotation_scale(location = \"bl\")",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#spatial-data-wrangling",
    "href": "06-chap6.html#spatial-data-wrangling",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.18 Spatial Data Wrangling",
    "text": "6.18 Spatial Data Wrangling\n\nConvert regular data frame to sf\n\n\nlibrary(sf)\nlibrary(dplyr)\n\n# Example data frame: cities with lat/lon\ncities &lt;- data.frame(\n  name = c(\"New York\", \"London\", \"Tokyo\"),\n  lon = c(-74.0060, -0.1276, 139.6917),\n  lat = c(40.7128, 51.5074, 35.6895)\n)\n\n# Convert to sf object\ncities_sf &lt;- st_as_sf(cities, coords = c(\"lon\", \"lat\"), crs = 4326)\n\n\nst_crs(cities_sf)\n\nCoordinate Reference System:\n  User input: EPSG:4326 \n  wkt:\nGEOGCRS[\"WGS 84\",\n    ENSEMBLE[\"World Geodetic System 1984 ensemble\",\n        MEMBER[\"World Geodetic System 1984 (Transit)\"],\n        MEMBER[\"World Geodetic System 1984 (G730)\"],\n        MEMBER[\"World Geodetic System 1984 (G873)\"],\n        MEMBER[\"World Geodetic System 1984 (G1150)\"],\n        MEMBER[\"World Geodetic System 1984 (G1674)\"],\n        MEMBER[\"World Geodetic System 1984 (G1762)\"],\n        MEMBER[\"World Geodetic System 1984 (G2139)\"],\n        MEMBER[\"World Geodetic System 1984 (G2296)\"],\n        ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n            LENGTHUNIT[\"metre\",1]],\n        ENSEMBLEACCURACY[2.0]],\n    PRIMEM[\"Greenwich\",0,\n        ANGLEUNIT[\"degree\",0.0174532925199433]],\n    CS[ellipsoidal,2],\n        AXIS[\"geodetic latitude (Lat)\",north,\n            ORDER[1],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        AXIS[\"geodetic longitude (Lon)\",east,\n            ORDER[2],\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n    USAGE[\n        SCOPE[\"Horizontal component of 3D system.\"],\n        AREA[\"World.\"],\n        BBOX[-90,-180,90,180]],\n    ID[\"EPSG\",4326]]\n\n#&gt; EPSG:4326 (WGS84)\n\n\nTransforming coordinates\n\n\n# Transform to UTM (meters)\ncities_utm &lt;- st_transform(cities_sf, crs = 32618)  # UTM zone 18N\n\nst_crs(cities_utm)\n\nCoordinate Reference System:\n  User input: EPSG:32618 \n  wkt:\nPROJCRS[\"WGS 84 / UTM zone 18N\",\n    BASEGEOGCRS[\"WGS 84\",\n        ENSEMBLE[\"World Geodetic System 1984 ensemble\",\n            MEMBER[\"World Geodetic System 1984 (Transit)\"],\n            MEMBER[\"World Geodetic System 1984 (G730)\"],\n            MEMBER[\"World Geodetic System 1984 (G873)\"],\n            MEMBER[\"World Geodetic System 1984 (G1150)\"],\n            MEMBER[\"World Geodetic System 1984 (G1674)\"],\n            MEMBER[\"World Geodetic System 1984 (G1762)\"],\n            MEMBER[\"World Geodetic System 1984 (G2139)\"],\n            MEMBER[\"World Geodetic System 1984 (G2296)\"],\n            ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n                LENGTHUNIT[\"metre\",1]],\n            ENSEMBLEACCURACY[2.0]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4326]],\n    CONVERSION[\"UTM zone 18N\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",-75,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",0.9996,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",500000,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",0,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Navigation and medium accuracy spatial referencing.\"],\n        AREA[\"Between 78°W and 72°W, northern hemisphere between equator and 84°N, onshore and offshore. Bahamas. Canada - Nunavut; Ontario; Quebec. Colombia. Cuba. Ecuador. Greenland. Haiti. Jamaica. Panama. Turks and Caicos Islands. United States (USA). Venezuela.\"],\n        BBOX[0,-78,84,-72]],\n    ID[\"EPSG\",32618]]\n\n#&gt; EPSG:32618 → coordinates in meters\n\n\n# Original coordinates (degrees)\ncities_sf\n\nSimple feature collection with 3 features and 1 field\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -74.006 ymin: 35.6895 xmax: 139.6917 ymax: 51.5074\nGeodetic CRS:  WGS 84\n      name                 geometry\n1 New York  POINT (-74.006 40.7128)\n2   London  POINT (-0.1276 51.5074)\n3    Tokyo POINT (139.6917 35.6895)\n\n# Transformed coordinates (meters)\ncities_utm\n\nSimple feature collection with 3 features and 1 field\nGeometry type: POINT\nDimension:     XY\nBounding box:  xmin: -2693059 ymin: 4507351 xmax: 4935636 ymax: 15438700\nProjected CRS: WGS 84 / UTM zone 18N\n      name                  geometry\n1 New York  POINT (583959.4 4507351)\n2   London   POINT (4935636 8691571)\n3    Tokyo POINT (-2693059 15438701)",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#two-types-of-maps",
    "href": "06-chap6.html#two-types-of-maps",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.19 Two types of maps",
    "text": "6.19 Two types of maps\n\nSimple feature map\nPolygon maps",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#simple-feature-map",
    "href": "06-chap6.html#simple-feature-map",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.20 Simple feature map",
    "text": "6.20 Simple feature map\n\nggplot(sf_sl_0) +\n  geom_sf() +\n  coord_sf()\n\n\n\n\n\n\n\n\nggplot(sf_sl_0) +\n  geom_sf() +\n  coord_sf(crs = st_crs(3577))",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#polygon-map",
    "href": "06-chap6.html#polygon-map",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.21 Polygon map",
    "text": "6.21 Polygon map\nExample 1\n\nlibrary(ggplot2)\nlibrary(sf)\n\n# Create a simple polygon (square) as sf object\ncoords &lt;- matrix(c(\n  0, 0,\n  0, 1,\n  1, 1,\n  1, 0,\n  0, 0  # close the polygon\n), ncol = 2, byrow = TRUE)\n\npolygon_sf &lt;- st_sf(\n  geometry = st_sfc(st_polygon(list(coords)))\n)\npolygon_sf\n\nSimple feature collection with 1 feature and 0 fields\nGeometry type: POLYGON\nDimension:     XY\nBounding box:  xmin: 0 ymin: 0 xmax: 1 ymax: 1\nCRS:           NA\n                        geometry\n1 POLYGON ((0 0, 0 1, 1 1, 1 ...\n\n# Extract coordinates for geom_point\npolygon_points &lt;- st_coordinates(polygon_sf)\npolygon_points\n\n     X Y L1 L2\n[1,] 0 0  1  1\n[2,] 0 1  1  1\n[3,] 1 1  1  1\n[4,] 1 0  1  1\n[5,] 0 0  1  1\n\n# Convert to data frame\npolygon_df &lt;- as.data.frame(polygon_points)\nhead(polygon_df)\n\n  X Y L1 L2\n1 0 0  1  1\n2 0 1  1  1\n3 1 1  1  1\n4 1 0  1  1\n5 0 0  1  1\n\n# Plot using geom_point\nggplot(polygon_df, aes(x = X, y = Y)) +\n  geom_point(color = \"blue\", size = 3) +\n  coord_fixed() +\n  labs(title = \"Polygon represented by points\")\n\n\n\n\n\n\n\n\nlibrary(ceylon)\ndata(sf_sl_0)\nsf_sl_0\n\nSimple feature collection with 1 feature and 1 field\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 362203.3 ymin: 380301.9 xmax: 621918.1 ymax: 813560.9\nProjected CRS: SLD99 / Sri Lanka Grid 1999\n# A tibble: 1 × 2\n                                                                geometry COUNTRY\n                                                      &lt;MULTIPOLYGON [m]&gt; &lt;chr&gt;  \n1 (((481925.5 381353.7, 481922.9 381350.3, 481919 381348.2, 481914.6 38… SRI LA…\n\n# Convert to data frame\npolygon_df_sl &lt;- as.data.frame(sf_sl_0)\npolygon_df_sl\n\n                        geometry   COUNTRY\n1 MULTIPOLYGON (((481925.5 38... SRI LANKA\n\n\nExample 2\n\n# devtools::install_github(\"UrbanInstitute/urbnmapr\")\nlibrary(tidyverse)\nlibrary(magrittr)\nlibrary(urbnmapr)\nlibrary(usmap) # to obtain population data\nlibrary(ggthemes)\nlibrary(scales)\nlibrary(geofacet)\n\n\nstatepop1 &lt;- statepop %&gt;% rename(state_name = full)\nhead(statepop1)\n\n# A tibble: 6 × 4\n  fips  abbr  state_name pop_2022\n  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt;\n1 01    AL    Alabama     5074296\n2 02    AK    Alaska       733583\n3 04    AZ    Arizona     7359197\n4 05    AR    Arkansas    3045637\n5 06    CA    California 39029342\n6 08    CO    Colorado    5839926\n\nstatepop2 &lt;- full_join(statepop1, states, by = \"state_name\")\nhead(statepop2)\n\n# A tibble: 6 × 12\n  fips  abbr  state_name pop_2022  long   lat order hole  piece group state_fips\n  &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;         &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;lgl&gt; &lt;fct&gt; &lt;fct&gt; &lt;chr&gt;     \n1 01    AL    Alabama     5074296 -88.5  31.9     1 FALSE 1     01.1  01        \n2 01    AL    Alabama     5074296 -88.5  31.9     2 FALSE 1     01.1  01        \n3 01    AL    Alabama     5074296 -88.5  31.9     3 FALSE 1     01.1  01        \n4 01    AL    Alabama     5074296 -88.5  32.0     4 FALSE 1     01.1  01        \n5 01    AL    Alabama     5074296 -88.5  32.0     5 FALSE 1     01.1  01        \n6 01    AL    Alabama     5074296 -88.5  32.1     6 FALSE 1     01.1  01        \n# ℹ 1 more variable: state_abbv &lt;chr&gt;\n\n\n\nggplot() + \n  geom_point(data = statepop2, mapping = aes(x = long, y = lat, group = group), fill = \"grey\", color = \"black\") \n\n\n\n\n\n\n\n\nggplot() + \n  geom_polygon(data = statepop2, mapping = aes(x = long, y = lat, group = group),fill = \"grey\", color = \"black\") \n\n\n\n\n\n\n\nExample 3\n\nmi_counties &lt;- map_data(\"county\", \"michigan\") %&gt;% \n  select(lon = long, lat, group, id = subregion)\nhead(mi_counties)\n\n        lon      lat group     id\n1 -83.88675 44.85686     1 alcona\n2 -83.36536 44.86832     1 alcona\n3 -83.36536 44.86832     1 alcona\n4 -83.33098 44.83968     1 alcona\n5 -83.30806 44.80530     1 alcona\n6 -83.30233 44.77665     1 alcona\n\n\nPlot: in class",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#rnaturalearth",
    "href": "06-chap6.html#rnaturalearth",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.22 rnaturalearth",
    "text": "6.22 rnaturalearth\nrnaturalearth is an R package that provides ready-to-use maps of the world, countries, and regions as sf (spatial) or data frames. It’s a super convenient way to get geographic data without downloading shapefiles manually.\nExample 1\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(rnaturalearth)\nlibrary(rnaturalearthdata)\n# Get Sri Lanka admin-1 regions (provinces)\nsri_lanka &lt;- ne_states(country = \"Sri Lanka\", returnclass = \"sf\")\n\n# Check the first few rows\nhead(sri_lanka)\n\nSimple feature collection with 6 features and 121 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 79.65577 ymin: 7.272089 xmax: 81.41668 ymax: 9.829576\nGeodetic CRS:  WGS 84\n                         featurecla scalerank adm1_code diss_me iso_3166_2\n1860 Admin-1 states provinces lakes         9  LKA-2454    2454      LK-53\n1861 Admin-1 states provinces lakes         9  LKA-2458    2458      LK-45\n1862 Admin-1 states provinces lakes         9  LKA-2459    2459      LK-41\n1863 Admin-1 states provinces lakes         9  LKA-2460    2460      LK-42\n1864 Admin-1 states provinces lakes         9  LKA-2457    2457      LK-43\n1865 Admin-1 states provinces lakes         9  LKA-2462    2462      LK-62\n     wikipedia iso_a2 adm0_sr          name            name_alt name_local\n1860      &lt;NA&gt;     LK       1 Trikuṇāmalaya         Trincomalee       &lt;NA&gt;\n1861      &lt;NA&gt;     LK       1       Mulativ Mulativu|Mullaitivu       &lt;NA&gt;\n1862      &lt;NA&gt;     LK       3      Yāpanaya              Jaffna       &lt;NA&gt;\n1863      &lt;NA&gt;     LK       1   Kilinŏchchi         Kilinochchi       &lt;NA&gt;\n1864      &lt;NA&gt;     LK       3     Mannārama              Mannar       &lt;NA&gt;\n1865      &lt;NA&gt;     LK       1     Puttalama            Puttalam       &lt;NA&gt;\n            type  type_en code_local code_hasc\n1860 Distrikkaya District       &lt;NA&gt;     LK.TC\n1861 Distrikkaya District       &lt;NA&gt;     LK.MP\n1862 Distrikkaya District       &lt;NA&gt;     LK.JA\n1863 Distrikkaya District       &lt;NA&gt;     LK.KL\n1864 Distrikkaya District       &lt;NA&gt;     LK.MB\n1865 Distrikkaya District       &lt;NA&gt;     LK.PX\n                                  note hasc_maybe            region region_cod\n1860                              &lt;NA&gt;       &lt;NA&gt; Næ̆gĕnahira paḷāta       LK-5\n1861                              &lt;NA&gt;       &lt;NA&gt;      Uturu paḷāta       LK-4\n1862 Split into Jaffna and Kilinochchi       &lt;NA&gt;      Uturu paḷāta       LK-4\n1863                              &lt;NA&gt;       &lt;NA&gt;      Uturu paḷāta       LK-4\n1864                              &lt;NA&gt;       &lt;NA&gt;      Uturu paḷāta       LK-4\n1865                              &lt;NA&gt;       &lt;NA&gt;    Vayamba paḷāta       LK-6\n     provnum_ne gadm_level check_me datarank abbrev postal area_sqkm sameascity\n1860      20013          1       10        6   &lt;NA&gt;     TC         0          7\n1861      20005          1       10        6   &lt;NA&gt;     MP         0        -99\n1862      20002          1       10        6   &lt;NA&gt;     JA         0        -99\n1863      20001          1        0        6   &lt;NA&gt;     KL         0        -99\n1864      20004          1       10        6   &lt;NA&gt;     MB         0        -99\n1865      20006          1       10        6   &lt;NA&gt;     PX         0        -99\n     labelrank name_len mapcolor9 mapcolor13 fips fips_alt   woe_id woe_label\n1860         7       13         4          9 CE21     &lt;NA&gt; 23706507      &lt;NA&gt;\n1861         9        7         4          9 CE27     &lt;NA&gt; 23706505      &lt;NA&gt;\n1862         9        8         4          9 CE25     &lt;NA&gt; 23706489      &lt;NA&gt;\n1863         9       11         4          9 &lt;NA&gt;     &lt;NA&gt; 23706490      &lt;NA&gt;\n1864         9        9         4          9 CE26     &lt;NA&gt; 23706506      &lt;NA&gt;\n1865         9        9         4          9 CE19     &lt;NA&gt; 23706502      &lt;NA&gt;\n        woe_name latitude longitude sov_a3 adm0_a3 adm0_label     admin\n1860 Trincomalee  8.56202   81.0848    LKA     LKA          2 Sri Lanka\n1861  Mullaitivu  9.24043   80.5667    LKA     LKA          2 Sri Lanka\n1862      Jaffna  9.50669   79.6933    LKA     LKA          2 Sri Lanka\n1863 Kilinochchi  9.38429   80.3341    LKA     LKA          2 Sri Lanka\n1864      Mannar  8.84371   80.0854    LKA     LKA          2 Sri Lanka\n1865    Puttalam  7.94944   79.9111    LKA     LKA          2 Sri Lanka\n      geonunit gu_a3   gn_id              gn_name   gns_id             gns_name\n1860 Sri Lanka   LKA 1226258 Trincomalee District -2237626 Trincomalee District\n1861 Sri Lanka   LKA 1234392 Mullaittivu District -2229490 Mullaittivu District\n1862 Sri Lanka   LKA 1242831      Jaffna District -2221042      Jaffna District\n1863 Sri Lanka   LKA 1240371 Kilinochchi District -2223504 Kilinochchi District\n1864 Sri Lanka   LKA 1236148      Mannar District -2227730      Mannar District\n1865 Sri Lanka   LKA 1229292    Puttalam District -2234591             Puttalam\n     gn_level gn_region gn_a1_code region_sub sub_code gns_level gns_lang\n1860        2      &lt;NA&gt; LK.1226258       &lt;NA&gt;     &lt;NA&gt;         2     &lt;NA&gt;\n1861        2      &lt;NA&gt; LK.1234392       &lt;NA&gt;     &lt;NA&gt;         2     &lt;NA&gt;\n1862        2      &lt;NA&gt; LK.1242831       &lt;NA&gt;     &lt;NA&gt;         2     &lt;NA&gt;\n1863        2      &lt;NA&gt; LK.1240371       &lt;NA&gt;     &lt;NA&gt;         2     &lt;NA&gt;\n1864        2      &lt;NA&gt; LK.1236148       &lt;NA&gt;     &lt;NA&gt;         2     &lt;NA&gt;\n1865        2      &lt;NA&gt; LK.1229292       &lt;NA&gt;     &lt;NA&gt;         2     &lt;NA&gt;\n     gns_adm1 gns_region min_label max_label min_zoom wikidataid\n1860     &lt;NA&gt;       CE37       8.7        11      8.7   Q1493318\n1861     &lt;NA&gt;       CE38       8.7        11      8.7   Q1587508\n1862     &lt;NA&gt;       CE38       8.7        11      8.7   Q1520182\n1863     &lt;NA&gt;       CE38       8.7        11      8.7   Q1584007\n1864     &lt;NA&gt;       CE38       8.7        11      8.7    Q178003\n1865     &lt;NA&gt;       CE32       8.7        11      8.7   Q1665318\n               name_ar        name_bn     name_de     name_en     name_es\n1860 مديرية ترينكومالي       ত্রিকুমালয় Trincomalee Trincomalee Trincomalee\n1861  مديرية مولايتيفو মোলাইতিবো জেলা  Mullaitivu  Mullaitivu  Mullaitivu\n1862      مديرية جافنا       ইয়াপানায়      Jaffna      Jaffna      Jaffna\n1863  مديرية كيلينوتشي ক্লিনোকাচি জেলা Kilinochchi Kilinochchi Kilinochchi\n1864       مديرية منار     মানার জেলা      Mannar      Mannar      Mannar\n1865    مديرية بوتالام   পোতালাম জেলা    Puttalam    Puttalam    Puttalam\n          name_fr        name_el         name_hi       name_hu       name_id\n1860 Trinquemalay Τρικουμαμαλάια त्रिंकोन्माली जिला Trikuṇāmalaya Trikuṇamalaya\n1861   Mullaitivu   Μουλαϊτιβούν      मुलैतिवु जिला    Mullaitivu    Mullaitivu\n1862       Jaffna      Γιαπανάια       जफ़ना जिला      Yāpanaya      Yapanaya\n1863  Kilinochchi      Κιλινότσι  किलिनोच्चि जिला   Kilinŏchchi   Kilinochchi\n1864       Mannar          Μανάρ      मन्नार जिला     Mannārama        Mannar\n1865     Puttalam      Πουτταλάμ      पुत्तलम जिला     Puttalama      Puttalam\n         name_it                name_ja       name_ko     name_nl       name_pl\n1860 Trincomalee       トリンコマリー県 트링코말리 구 Trincomalee Trikunamalaja\n1861  Mullaitivu ムッライッティーヴー県 물라이티부 구  Mullaitivu   Mullajttiwu\n1862      Jaffna             ジャフナ県     자프나 구      Jaffna        Dżafna\n1863 Kilinochchi           キリノッチ県 킬리노치치 구 Kilinochchi     Kilinoćći\n1864      Mannar           マンナール県     만나르 구      Mannar        Mannar\n1865    Puttalam           プッタラム県     푸탈람 구    Puttalam      Puttalam\n         name_pt          name_ru     name_sv       name_tr          name_vi\n1860 Trincomalee Тринкомали округ Trincomalee Trikuṇāmalaya      Trincomalee\n1861 Mullaittivu       Муллайтиву  Mullaitivu    Mullaitivu  Quận Mullaitivu\n1862      Jaffna     округ Джафна      Jaffna      Yāpanaya         Yāpanaya\n1863 Kilinochchi        Килиноччи Kilinochchi   Kilinochchi Quận Kilinochchi\n1864      Mannar           Маннар      Mannar        Mannar      Quận Mannar\n1865    Puttalam         Путталам    Puttalam      Puttalam    Quận Puttalam\n        name_zh      ne_id      name_he    name_uk        name_ur\n1860 亭可馬里區 1159311407 טריקונהמלאיה Трінкомалі ترینکومالی ضلع\n1861 穆莱蒂武区 1159311415        מולטה Муллайтіву  مولایتیوو ضلع\n1862   贾夫纳区 1159311395     יאפאנאיה     Джафна       جففناضلع\n1863 基利诺奇区 1159311417     קילינצ'י  Кіліноччі  کیلینوچچی ضلع\n1864   马纳尔区 1159311387     האי מנסל     Маннар      مانار ضلع\n1865 普塔勒姆区 1159311421     פוטאלאמה   Путталам    پوٹالام ضلع\n              name_fa   name_zht FCLASS_ISO FCLASS_US FCLASS_FR FCLASS_RU\n1860 ناحیه ترینکومالی 亭可馬里區       &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1861  ناحیه مولایتیوو 穆萊蒂武區       &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1862       ناحیه جفنا   賈夫納區       &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1863   ناحیه کیلینوچی 基利諾奇區       &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1864       ناحیه منار   馬納爾區       &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1865    ناحیه پوتالام 普塔勒姆區       &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n     FCLASS_ES FCLASS_CN FCLASS_TW FCLASS_IN FCLASS_NP FCLASS_PK FCLASS_DE\n1860      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1861      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1862      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1863      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1864      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1865      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n     FCLASS_GB FCLASS_BR FCLASS_IL FCLASS_PS FCLASS_SA FCLASS_EG FCLASS_MA\n1860      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1861      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1862      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1863      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1864      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1865      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n     FCLASS_PT FCLASS_AR FCLASS_JP FCLASS_KO FCLASS_VN FCLASS_TR FCLASS_ID\n1860      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1861      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1862      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1863      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1864      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1865      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n     FCLASS_PL FCLASS_GR FCLASS_IT FCLASS_NL FCLASS_SE FCLASS_BD FCLASS_UA\n1860      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1861      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1862      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1863      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1864      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n1865      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;      &lt;NA&gt;\n     FCLASS_TLC                       geometry\n1860       &lt;NA&gt; MULTIPOLYGON (((80.92292 8....\n1861       &lt;NA&gt; MULTIPOLYGON (((80.62598 9....\n1862       &lt;NA&gt; MULTIPOLYGON (((80.44174 9....\n1863       &lt;NA&gt; MULTIPOLYGON (((80.29067 9....\n1864       &lt;NA&gt; MULTIPOLYGON (((79.91278 8....\n1865       &lt;NA&gt; MULTIPOLYGON (((79.82789 7....\n\n\nExample 2\n\nlibrary(rnaturalearth)\nlibrary(sf)\nlibrary(ggplot2)\n\n# Get world countries as sf object\nworld &lt;- ne_countries(scale = \"medium\", returnclass = \"sf\")\n\n# Plot the map\nggplot(world) +\n  geom_sf(fill = \"lightblue\", color = \"black\") +\n  labs(title = \"World Map\")",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  },
  {
    "objectID": "06-chap6.html#practical",
    "href": "06-chap6.html#practical",
    "title": "\n6  Spatial Data Visualisation\n",
    "section": "\n6.23 Practical",
    "text": "6.23 Practical\n\nMark following locations on the map\n\n\noz_capitals &lt;- tibble::tribble( \n  ~city,           ~lat,     ~lon,\n  \"Sydney\",    -33.8688, 151.2093,  \n  \"Melbourne\", -37.8136, 144.9631, \n  \"Brisbane\",  -27.4698, 153.0251, \n  \"Adelaide\",  -34.9285, 138.6007, \n  \"Perth\",     -31.9505, 115.8605, \n  \"Hobart\",    -42.8821, 147.3272, \n  \"Canberra\",  -35.2809, 149.1300, \n  \"Darwin\",    -12.4634, 130.8456, \n)\n\nHelp:\n\nlibrary(ozmaps)\nlibrary(sf)\noz_states &lt;- ozmaps::ozmap_states\noz_states\n\nSimple feature collection with 9 features and 1 field\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 105.5507 ymin: -43.63203 xmax: 167.9969 ymax: -9.229287\nGeodetic CRS:  GDA94\n# A tibble: 9 × 2\n  NAME                                                                  geometry\n* &lt;chr&gt;                                                       &lt;MULTIPOLYGON [°]&gt;\n1 New South Wales              (((150.7016 -35.12286, 150.6611 -35.11782, 150.6…\n2 Victoria                     (((146.6196 -38.70196, 146.6721 -38.70259, 146.6…\n3 Queensland                   (((148.8473 -20.3457, 148.8722 -20.37575, 148.85…\n4 South Australia              (((137.3481 -34.48242, 137.3749 -34.46885, 137.3…\n5 Western Australia            (((126.3868 -14.01168, 126.3625 -13.98264, 126.3…\n6 Tasmania                     (((147.8397 -40.29844, 147.8902 -40.30258, 147.8…\n7 Northern Territory           (((136.3669 -13.84237, 136.3339 -13.83922, 136.3…\n8 Australian Capital Territory (((149.2317 -35.222, 149.2346 -35.24047, 149.271…\n9 Other Territories            (((167.9333 -29.05421, 167.9188 -29.0344, 167.93…\n\n\n\nProjecting your data\n\n\nlibrary(sf)\nlibrary(ggplot2)\n# devtools::install_github(\"hrbrmstr/albersusa\")\nlibrary(albersusa)\ncrs_use = \"+proj=laea +lat_0=30 +lon_0=-95\"\n\nd_points = data.frame(long = c(-110, -103, -84), \n                      lat  = c(45, 40, 41))",
    "crumbs": [
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Spatial Data Visualisation</span>"
    ]
  }
]